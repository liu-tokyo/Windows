# 把 Windows 的TEMP 转移到其它分区

将 Windows 的临时文件夹（**TEMP** 和 **TMP**）转移到其他分区是释放系统盘空间、减少固态硬盘 (SSD) 写入次数的有效方法。

最安全和推荐的方法是**修改系统环境变量**。

## 🛠️ 步骤一：创建新的 TEMP 文件夹

首先，在您想要转移到的分区上创建两个新的文件夹。例如，如果您想转移到 D 盘：

1. 打开 **D 盘**（或其他目标分区）。
2. 新建一个名为 **`Temp`** 的文件夹。
3. 在新创建的 `Temp` 文件夹内，再新建两个子文件夹，分别命名为：
   - **`UserTemp`** (用于用户变量)
   - **`SysTemp`** (用于系统变量)

- **新路径示例：**
  - `D:\Temp\UserTemp`
  - `D:\Temp\SysTemp`

## ⚙️ 步骤二：修改环境变量

Windows 使用四个环境变量来确定临时文件的位置：两个针对**当前用户**，两个针对**系统全局**。您需要同时修改这四个变量。

1. **打开“系统属性”窗口：**
   - 在 Windows 搜索栏中输入 **“环境变量”**，然后选择 **“编辑系统环境变量”**。
   - 或者，右键点击 **“此电脑”** → **“属性”** → **“高级系统设置”** → **“环境变量”**。
2. **修改“用户变量” (User Variables)：**
   - 在顶部 **“用户变量”** 框中，找到并选择 **`TEMP`** 变量，点击 **“编辑”**。
   - 将 **“变量值”** 修改为您在步骤一中创建的**用户临时文件夹路径**（例如：`D:\Temp\UserTemp`）。
   - 点击 **“确定”**。
   - 重复上述操作，修改 **`TMP`** 变量，变量值也设置为 **`D:\Temp\UserTemp`**。
3. **修改“系统变量” (System Variables)：**
   - 在底部 **“系统变量”** 框中，找到并选择 **`TEMP`** 变量，点击 **“编辑”**。
   - 将 **“变量值”** 修改为您在步骤一中创建的**系统临时文件夹路径**（例如：`D:\Temp\SysTemp`）。
   - 点击 **“确定”**。
   - 重复上述操作，修改 **`TMP`** 变量，变量值也设置为 **`D:\Temp\SysTemp`**。
4. **关闭所有窗口：** 点击所有打开的 **“确定”** 按钮以保存更改。

## 🔄 步骤三：重启电脑并清理旧文件

更改环境变量后，系统和大多数程序并不会立即切换到新路径，需要重启才能使所有程序开始使用新的临时文件夹。

1. **重启计算机。**
2. **清理旧的 TEMP 文件：** 重启后，您可以手动清理或删除原来的临时文件夹中的内容，以释放 C 盘空间。
   - **旧的用户 TEMP 路径：** `C:\Users\您的用户名\AppData\Local\Temp`
   - **旧的系统 TEMP 路径：** `C:\Windows\Temp`
   - *(提示：这两个文件夹中的文件通常可以安全删除。如果某些文件正在被使用而无法删除，可跳过。)*

## 💡 为什么需要修改四个变量？

- **`TEMP` 和 `TMP`：** 历史上两者都被用于存储临时文件，但现在大多数程序通常只查找 **`TEMP`**。为确保最大兼容性，**两个变量的路径应始终保持一致**。
- **用户变量 vs. 系统变量：**
  - **用户变量 (User Variables)**：仅对当前登录的用户账户生效，大多数应用程序会使用此处的路径。
  - **系统变量 (System Variables)**：对所有用户生效，通常用于系统服务或在用户未登录时运行的程序（如安装程序）。