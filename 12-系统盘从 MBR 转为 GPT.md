## 系统盘从 MBR 转为 GPT 样式

在Windows 10中，将系统盘从MBR转换为GPT的过程是可以通过内建工具实现的。Windows提供了一些命令行工具，可以在不丢失数据的情况下进行分区样式转换。最常用的工具是**Mbr2Gpt**。

### 1. 使用 Mbr2Gpt 工具转换硬盘分区样式

`Mbr2Gpt` 是Windows 10自带的命令行工具，可以将MBR格式的硬盘转换为GPT格式。它的好处是不会丢失数据，因此可以安全地将系统盘转换为GPT分区表。

#### 1.1 转换步骤：

1. **备份数据**：尽管`Mbr2Gpt`在转换过程中不会丢失数据，但建议在进行任何操作之前先备份数据，以防万一。

2. **检查硬盘要求**：确保硬盘满足以下要求：

   - 硬盘的容量不超过2TB，因为GPT支持更大的磁盘（最多18.8ZB），但你需要确保系统兼容。
   - 确保硬盘上没有超过3个主分区（因为MBR只能支持最多4个主分区，而GPT支持更多）。
   - 确保硬盘上没有未分配的空间，或者确保可以重新分配。

3. **进入命令提示符（管理员模式）**：

   - 右键点击“开始”按钮，选择 **Windows PowerShell（管理员）** 或 **命令提示符（管理员）**。

4. **验证硬盘分区信息**：
    在命令行中运行以下命令来查看硬盘分区情况，确保转换前没有数据丢失或其他问题：

   ```
   diskpart
   list disk
   ```

   查找你要转换的硬盘编号（例如：Disk 0）。

5. **运行 Mbr2Gpt 工具**：
    使用以下命令来进行转换：

   ```
   mbr2gpt /convert /disk:<DiskNumber> /allowfullos
   ```

   其中，`<DiskNumber>` 是要转换的硬盘编号。例如，如果目标硬盘是Disk 0，则命令为：

   ```
   mbr2gpt /convert /disk:0 /allowfullos
   ```

6. **等待转换完成**：`mbr2gpt`会检查硬盘并在符合条件时进行转换。如果成功，命令行会提示转换完成。

7. **启用UEFI启动**：
    转换完成后，你需要通过**UEFI模式**启动电脑，而不是传统的BIOS模式。进入BIOS（或者UEFI设置）并确保启动模式设置为UEFI而非Legacy（传统BIOS模式）。

8. **重启并验证**：
    重新启动计算机，并通过UEFI启动。如果成功，硬盘已经从MBR转为GPT，可以使用更大的磁盘和更多的分区。

#### 1.2 注意事项：

- **备份数据**：尽管`mbr2gpt`工具在转换时是无数据丢失的，但进行任何涉及磁盘的操作之前，备份数据是非常重要的。
- **系统要求**：系统必须处于Windows 10版本 1703 或更高版本，才能使用`mbr2gpt`工具。
- **UEFI支持**：确保你的硬件支持UEFI启动模式，并且已经启用了UEFI。某些老旧的主板可能不支持UEFI启动。
- **没有删除分区的选项**：`mbr2gpt`工具不会删除任何分区或数据。如果转换过程中出现错误，它会给出相应的提示，但一般不会影响数据。

### 2. 备选方案：通过Windows安装盘修复引导

如果使用`mbr2gpt`工具后出现引导问题，或者无法进入系统，可以使用Windows安装盘修复引导：

1. 使用Windows 10安装盘启动电脑。

2. 选择“修复计算机”。

3. 进入“疑难解答”>“高级选项”>“命令提示符”。

4. 在命令行中输入以下命令来修复启动：

   ```
   bootrec /fixmbr
   bootrec /fixboot
   bootrec /rebuildbcd
   ```

这样可以重新修复启动记录，确保GPT硬盘可以正常启动。

#### 总结：

- **`mbr2gpt`** 是Windows 10自带的转换工具，可以安全地将MBR磁盘转换为GPT磁盘。
- 在使用前，确保系统支持UEFI，并备份数据。
- 如果转换过程中有任何问题，使用Windows修复工具修复启动项。