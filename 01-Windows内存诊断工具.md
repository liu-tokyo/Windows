# Windows内存诊断工具

由于内存条的质量良莠不齐，加之和各种主板或硬件的兼容性具有很大的随机性，因此由内存引起的系统问题也很常见。经常性的电脑死机、无故重启或蓝屏等，很多往往与内存问题有关。要进行内存故障检查，可使用系统自带的内存诊断工具进行。

## 1. 启动内存诊断工具

- 方法1：  
  在“开始”菜单程序列表中选择“Windows管理工具”组并展开，可找到“Windows内存诊断”程序。
- 方法2：  
  点击开始。在搜索栏中，输入“mdsched”（没有引号）并按回车键。
- 方法3：  
  控制面板 → 管理工具 → Windows内存诊断

显示 `Windows 内存诊断` 画面之后，选择 `立即重新启动并检查问题（推荐）`，重启启动电脑后，进入内存诊断画面。

## 2. 内存诊断参数

内存诊断画面，直接进行检查（标准参数）即可；如果还能继续出现蓝屏等问题，按下 F1 键，设置诊断相关的 3 个参数：

1. 测试组合（Test Mix）：

   - 基本（Basic）：  
     基本测试为 MATS+、INVC 和 SCHCKR（启用缓存）。
   - 标准（Standard）：  
     标准测试包括所有基本测试，以及 LRAND、Stride 6（启用缓存）、CHCKR3、WMATS+ 和 WINVC。
   - 扩展（Extended）：  
     扩展测试包括所有标准测试，外加 MATS+（禁用缓存）、Stride38、WSCHCKR、WStride-6、CHCKR4、WCHCKR3、ERAND、Stride6（禁用缓存）和 CHCKR8。可能需要很长时间，但有助于找出导致内存问题的根本原因。

   这3种模式从前往后一级比一级严格。

2. 缓存（Cache）：

   - 默认（Default）
   - 启用（on）
   - 关闭（off）

   应该禁用缓存以便程序直接访问内存，设置方法为选择扩展，按`Tab`键选择“关闭”。

3. 传递计数（Pass Count ）：  
   操作数量越多，发现错误的几率就越高。

F10开始检测。检测完成后，您的电脑将会自动重启。关于发现错误的信息将显示在操作系统加载后的界面上。

## 3. 内存诊断结果

要深入了解内存诊断的结果，我们可以使用「事件查看器」进行分析。这个工具可以帮助我们解读内存诊断的详细日志信息。  
事件查看器是 Windows 系统中用于检查和分析电脑问题的工具。

1. 使用`Windows + R`快捷键打开「运行」对话框，输入`eventvwr`命令，然后按回车键打开「事件查看器」。

2. 在事件查看器中，依次展开「Windows 日志」>「系统」，在右侧面板，点击「筛选当前日志」。

3. 在弹出的筛选窗口中，找到「事件来源」下拉菜单，并勾选「MemoryDiagnostics-Results」选项。然后点击「确定」根据内存诊断结果过滤日志。

4. 在事件查看器的中间窗格中审查日志。这里的记录会分为几种类型，指出不同的问题和状态：

   - 标记为「信息」的日志条目通常表示诊断过程中检测到的问题已经被处理，或者没有发现问题。这类信息通常不需要用户进一步操作。
   - 需要特别关注的是标记为「警告」和「错误」的日志。这表示可能存在一些未解决的问题，需要进一步的测试。

   可以在窗格的底部查看该事件的详细信息，包括错误代码和描述，这些信息对于故障排除非常有用。

## 4. 禁止内存诊断

如果发现每次启动电脑后自动出现内存检查程序，而系统运行似乎又没有什么问题，可通过系统“管理工具”下的“任务计划程序”，在“任务计划程序库”的“Microsoft→Windows”下找到`MemoryDiagnostic`项并展开，右键单击其下的两个项并选择“禁用”即可（图4）。

