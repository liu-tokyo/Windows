## Windows11系统盘瘦身

### 1. 清理系统文件（最稳）

**此电脑 → C 盘 → 属性 → 磁盘清理 → 清理系统文件**

勾选这些：

- ✅ Windows 更新清理（大头）
- ✅ 临时 Windows 安装文件
- ✅ 设备驱动程序包
- ✅ 临时文件
- ✅ 回收站

可以直接用下面的指令启动该功能：

```
cleanmgr
```

### 2. 关闭休眠（释放超多空间）⭐

如果你**不用“休眠”**（合盖睡眠不受影响）：

**管理员 CMD：**

```
powercfg -h off
```

📌 释放空间 ≈ **你的内存容量**

- 8GB 内存 → +8GB
- 16GB 内存 → +16GB

### 3. 清理 WinSxS

**管理员 CMD：**

```
DISM /Online /Cleanup-Image /StartComponentCleanup
```

如果系统稳定、**不需要回滚更新**：

```
DISM /Online /Cleanup-Image /StartComponentCleanup /ResetBase
```

⚠️ `/ResetBase` 后不能卸载旧更新，但非常省空间

### 4. 存储感知（自动清）

**设置 → 系统 → 存储**

- 开启【存储感知】
- 回收站：30 天
- 临时文件：开启

### 5. 限制系统还原点

**控制面板 → 系统 → 系统保护 → C 盘 → 配置**

- 最大使用量：**3～5%**

### 6. 微信 / QQ / 浏览器缓存（超级常见）

- **微信**：设置 → 文件管理 → 路径改到 D 盘
- Edge / Chrome：清除缓存
- `下载` 文件夹：手动整理

👉 很多人 C 盘爆满就是它们干的 😅

### 7. 卸载 & 移走程序

**设置 → 应用 → 已安装的应用**

建议：

- IDE、游戏、工具 → 装 D 盘
- 能卸就卸，用完再装

### 8. 虚拟内存移到 D 盘

**控制面板 → 系统 → 高级系统设置 → 性能 → 高级 → 虚拟内存**

推荐：

- C 盘：1～2GB
- D 盘：系统管理 或 固定 8～16GB

### 9. 删除“以前的 Windows 安装”（核心方案）

当你从 21H2 升级后，系统会自动保留 21H2 的所有文件，存放在 `C:\Windows.old` 文件夹中。这通常占用 **20GB - 30GB** 的空间。

- **操作方法：**

  1. 打开 **设置** > **系统** > **存储**。
  2. 点击 **临时文件**。
  3. 在列表中勾选 **“以前的 Windows 安装”**（Previous Windows installation(s)）。
  4. 同时建议勾选 **“Windows 更新清理”**。
  5. 点击顶部的 **删除文件**。

  **注意：** 删除后你将无法直接“回退”到 21H2 版本，操作前请确保当前 24H2 运行稳定。

### A. 使用“清理建议”

24H2 之后强化了存储感知的智能分析。

- **操作方法：**
  1. 在 **设置** > **系统** > **存储** 页面，找到 **清理建议**。
  2. 展开 **“临时文件”**，系统会自动列出可以安全删除的大文件。
  3. 勾选不需要的项，一键清理。

### B. 经典模式：清理系统文件（最彻底）

有些顽固的驱动程序残留和更新缓存，通过设置页面可能删不干净。

- **操作方法：**
  1. 按下 `Win + R`，输入 `cleanmgr` 回车。
  2. 选择 **C 盘**。
  3. 进入后，点击下方的 **“清理系统文件”**（需要管理员权限）。
  4. 在列表中重点勾选：**Windows 更新清理**、**传递优化文件**、**设备驱动程序软件包**。
  5. 点击确定，等待清理完成。

### C. 开启 Compact OS（针对小容量硬盘）

> （针对硬盘容量极小的用户）

如果你的硬盘空间依然吃紧，可以使用 24H2 依然支持的底层压缩技术，它可以把系统核心文件进行无损压缩，释放约 **2GB - 4GB**。

- **操作方法：**

  1. 搜索并以 **管理员身份运行** “命令提示符”。

  2. 输入以下命令并回车：

     DOS

     ```
     compact.exe /compactos:always
     ```

  3. 系统会进行几分钟的计算压缩，完成后会提示释放了多少空间。



### D. 使用DISM++工具

如果使用 `DISM++` 进行清丽的话，能够代替上面的不少步骤。该软件可以从 `Github` 下载最新版本。
