# 如何减少内存占用



## 1. 天气组件

- 细看还真是不少占用内存，使用如下指令卸载该组件（普通人一般也不会在这里看天气，手机看更方便）：  

  ```
  winget uninstall "Windows web experience pack"
  ```

  ※比较恶心的是，虽然在任务栏管理，关闭了天气组件，依然还在后台占用内存。

  ※该指令下载所有和 `WebView2` 相关的组件，天气、新闻等，都依赖 `WebView2`。

- 内存占用对比

  | **状态**            | **内存占用情况** | **对系统影响**                                |
  | ------------------- | ---------------- | --------------------------------------------- |
  | **开启状态**        | 约 300MB - 1GB+  | 持续占用，由于新闻流更新可能导致后台 CPU 波动 |
  | **仅隐藏 (方法一)** | 约 50MB - 100MB  | 显著降低占用，但仍有残留进程                  |
  | **彻底卸载/禁用**   | **0 MB**         | 彻底释放资源，系统启动略微加快                |

## 2. 搜索亮点

关闭 Windows 11 搜索框里的“搜索亮点”（即搜索窗口右侧出现的每日插画、热门新闻和节日提醒）

#### 方案一：通过“设置”关闭（最推荐）

这是官方提供的标准方法，操作直观：

1. 按下键盘上的 **`Win + I`** 组合键打开 **设置**。
2. 在左侧菜单栏中点击 **隐私和安全性**。
3. 在右侧列表中找到并点击 **搜索权限**。
4. 向下滑动到页面底部，找到“更多设置”板块。
5. 将 **显示搜索亮点** 的开关拨至 **关闭**。

#### 方案二：直接从任务栏进入

如果你想快速跳转，也可以这样做：

1. 点击任务栏上的 **搜索框** 或 **搜索图标**。
2. 在弹出的搜索窗口右上角，点击 **三个点（...）** 菜单。
3. 选择 **搜索设置**，这会直接带你进入方案一中的设置界面。
4. 关闭 **显示搜索亮点**。

#### 关闭后的变化

- **视觉效果：** 点击搜索框后，右侧不再显示杂乱的新闻和图片，只会显示你最近使用的应用和频繁搜索的项目。
- **性能提升：** 减少了后台加载图片和新闻资讯的流量及内存占用。
- **搜索框图标：** 任务栏搜索框右侧那个代表当天节日的小图标也会消失，恢复成纯净的搜索框。

## 3. Windows Search

在 Windows 11 中，“关闭 Windows Search”通常有两种不同的需求：一种是**隐藏任务栏的搜索框**（为了美观），另一种是**彻底禁用搜索索引服务**（为了省电、省硬盘占用）。

#### 3.1. 仅仅隐藏任务栏搜索框 (推荐)

如果你只是觉得搜索框占位置，并不想破坏系统功能，这是最优雅的做法：

1. 在任务栏空白处 **右键点击**。
2. 选择 **任务栏设置**。
3. 在“任务栏项”中找到 **搜索**。
4. 在下拉菜单里选择 **隐藏**。
   - *提示：即使隐藏了，你依然可以随时按 `Win` 键直接打字进行搜索，效果是一样的。*

#### 3.2. 彻底禁用搜索索引服务 (慎重选择)

如果你觉得 `SearchIndexer.exe` 进程占用了太多的 CPU 或磁盘 IO，想彻底关掉它，请注意：**关闭后，搜索本地文件会变得极其缓慢。**

1. 按下 `Win + R`，输入 `services.msc` 并回车。
2. 在服务列表中找到 **Windows Search**。
3. **右键点击** 它，选择 **属性**。
4. 将“启动类型”改为 **禁用**。
5. 点击 **停止** 按钮，然后点击确定。

#### 3.3. 如果因为`搜索太慢`或`搜不到东西`

有时候关闭它是因为它不好用。其实你可以通过优化让它变好用，而不是直接杀掉它：

- **只索引特定文件夹：** 进入 `设置 > 隐私和安全性 > 搜索 Windows`，在这里你可以选择“经典”模式，并排除掉那些包含成千上万个小文件的文件夹（比如代码库或游戏目录），这样可以极大缓解 CPU 占用。

#### 💡 专家建议

如果你彻底禁用了 Windows Search 索引服务，我强烈建议你下载一个仅有几 MB 大小的神器：**Everything**。

- **对比：** Windows 原生搜索会预先读取文件内容（导致卡顿）；而 Everything 只读取文件名称。
- **结果：** Everything 几乎不占内存和 CPU，且搜索文件是**瞬间**完成的。